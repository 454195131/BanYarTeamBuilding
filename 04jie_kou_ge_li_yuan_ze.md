# 04接口隔离原则

到目前为止，已经在示例中使用了基于类的继承，但还没有过多地讨论接口。回想一
下，接口就是在代码中定义的契约，而类同意实现这一契约。这份协议要求类来为接口中
定义的所有方法提供实现。至于如何实现方法，则由这个类来决定，只要它遵守契约，支
持接口中的定义即可。接口是.NET 中功能非常强大的功能；它们对继承和多态的支持方式
与类相同。
接口分离原则(Interface Segregation Principle，ISP)规定，不应当强制客户端依赖于其
不使用的接口。例如，银行系统可能有一个用于评估信用申请的服务。为便于讨论，假定
该服务不仅处理有质押信用(车船贷款、抵押)，也处理无质押信用(信用卡、信用证、股票
信用额度)。如果正在开发一个客户端，用于帮助从事汽车代理的金融专员为其客户获得汽
车贷款，则只需要关注汽车贷款的申请即可，无需考虑有关这一服务的任何其他事情。如
果没有 ISP，应用程序可能必须了解其他方法。
尽管乍看起来这并没有什么，但它至少是增加了应用程序的复杂性，因为据以进行开
发的 API 中会有许多方法，远远超出所需要的。这样可能会导致混淆，调用错误的方法还
可能会导致潜在的错误。还有一种可能， API 中未被应用程序用到的部分可能会改变，而
这又会导致对终端的改变。这样，因为没用到、没想用、甚至是根本就不关心的一些功能，
而增加了应用程序的维护成本。这种情况还存在安全风险。该应用程序是专用于汽车贷款
的。如果不道德的开发人员利用这个过于庞大的 API 来允许利用这一申请担保其他类型的
信用，又该怎么办呢？这种问题的严重性就不仅仅是代码瘫痪、不可维护那么简单了。
这一问题的解决方案就是专门针对客户端的需要，为该服务创建几个更小的、更精细
的接口。对于该示例应用程序，专门设计一个针对汽车贷款的接口是比较适当的做法。应
用程序可以用同一实现访问同一个类，但这一次它使用了一个特定的接口，其中仅有实际
服务的一部分方法。这样就降低了复杂性，将应用程序与 API 其他部分的修改隔离开来，
还有助于堵塞安全漏洞。